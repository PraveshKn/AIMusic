{% extends "layout.html" %}

{% block title %}
: Generate Using Algorithm
{% endblock %}

{% block main %}
    <h1>Music has been generated!</h1>
    <h2 class="small">Original Image</h2>

    <div class="center">
        <img class='image' src="static/{{ ori_image }}"/>
        <p class="small">16x16 Black and White Image</p>
        <img src="static/upload_image/{{ img_name }}16x16.png" width="200" />
        <br/>
        
        <span class="cls"><a href="#" onClick="MIDIjs.play('{{ file_path }}');">Play MIDI </a></span>
        <span class="cls"><a href="#" onClick="MIDIjs.stop();"> Stop MIDI Playback</a></span>
        <br/>
        <section id="section1">

            <midi-visualizer
              type="piano-roll"
              src="{{ file_path }}">
            </midi-visualizer>
            
            <midi-player
              src="{{ file_path }}"
              sound-font visualizer="#section1 midi-visualizer" loop>
            </midi-player>
            </section>
            
            
            <script src="https://cdn.jsdelivr.net/combine/npm/tone@14.7.58,npm/@magenta/music@1.23.1/es6/core.js,npm/focus-visible@5,npm/html-midi-player@1.5.0"></script>
        <a href="{{ file_path }}">
            <button class="bn-main bn">Download Music</button>
        </a><br />
        <a href="/algorithm">
            <button class="bn-main bn">Generate New</button>
        </a>
    </div>
{% endblock %}